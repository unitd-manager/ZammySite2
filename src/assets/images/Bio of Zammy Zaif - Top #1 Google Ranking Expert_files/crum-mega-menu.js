var k; !function (e) { jQuery.fn.crumegamenu = function (n) { e.extend(i = { trigger: "hover", showDelay: 0, hideDelay: 0, effect: "fade", align: "left", responsive: !0, animation: "drop-left", indentChildren: !0, scrollable: !0, scrollableMaxHeight: 460 }, n); var i, t, o = e(this), d = e(o).children(".primary-menu-menu"), s = e(d).find("li"), a = 2e3, r = 200; function l(n) { "fade" == i.effect ? e(n).children(".dropdown, .megamenu").stop(!0, !0).delay(i.showDelay).fadeIn(i.showSpeed).addClass(i.animation) : e(n).children(".dropdown, .megamenu").stop(!0, !0).delay(i.showDelay).slideDown(i.showSpeed).addClass(i.animation) } function c(n) { "fade" == i.effect ? e(n).children(".dropdown, .megamenu").stop(!0, !0).delay(i.hideDelay).fadeOut(i.hideSpeed).removeClass(i.animation) : e(n).children(".dropdown, .megamenu").stop(!0, !0).delay(i.hideDelay).slideUp(i.hideSpeed).removeClass(i.animation), e(n).children(".dropdown, .megamenu").find(".dropdown, .megamenu").stop(!0, !0).delay(i.hideDelay).fadeOut(i.hideSpeed) } function u() { e(d).find(".dropdown, .megamenu").hide(0), navigator.userAgent.match(/Mobi/i) || window.navigator.msMaxTouchPoints > 0 || "click" == i.trigger ? (e(".primary-menu-menu > li > a, .primary-menu ul.dropdown li a").bind("click touchstart", function (n) { if (n.stopPropagation(), n.preventDefault(), e(this).parent("li").siblings("li").find(".dropdown, .megamenu").stop(!0, !0).fadeOut(300), "none" == e(this).siblings(".dropdown, .megamenu").css("display")) return l(e(this).parent("li")), !1; c(e(this).parent("li")), window.location.href = e(this).attr("href") }), e(document).bind("click.menu touchstart.menu", function (n) { 0 == e(n.target).closest(".primary-menu").length && e(".primary-menu-menu").find(".dropdown, .megamenu").fadeOut(300) })) : e(s).bind("mouseenter", function () { l(this) }).bind("mouseleave", function () { c(this) }) } function h() { e(o).find("li, a").unbind(), e(document).unbind("click.menu touchstart.menu") } function f() { return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth } function m() { 1023 >= f() && a > 1023 && (h(), i.responsive ? (e(d).hide(0), e(t).show(0).click(function () { "none" == e(d).css("display") ? e(d).slideDown(i.showSpeed) : e(d).slideUp(i.hideSpeed).find(".dropdown, .megamenu").hide(i.hideSpeed) }), e(d).find(".dropdown, .megamenu").hide(0), e(d).find(".indicator").each(function () { e(this).parent("a").siblings(".dropdown, .megamenu").length > 0 && e(this).bind("click", function (n) { e(d).scrollTo({ top: 45, left: 0 }, 600), "A" == e(this).parent().prop("tagName") && n.preventDefault(), "none" == e(this).parent("a").siblings(".dropdown, .megamenu").css("display") ? (e(this).parent("a").siblings(".dropdown, .megamenu").delay(i.showDelay).slideDown(i.showSpeed), e(this).parent("a").parent("li").siblings("li").find(".dropdown, .megamenu").slideUp(i.hideSpeed)) : e(this).parent("a").siblings(".dropdown, .megamenu").slideUp(i.hideSpeed) }) })) : u()), f() > 1023 && r <= 1023 && (h(), e(d).show(0), e(t).hide(0), u()), a = f(), r = f(), /MSIE (\d+\.\d+);/.test(navigator.userAgent) && 1023 > f() && 8 == new Number(RegExp.$1) && (e(t).hide(0), e(d).show(0), h(), u()) } e(d).children("li").children("a").each(function () { e(this).siblings(".dropdown, .megamenu").length > 0 && e(this).append("<span class='indicator'>" + i.indicatorFirstLevel + "</span>") }), e(d).find(".dropdown").children("li").children("a").each(function () { e(this).siblings(".dropdown").length > 0 && e(this).append("<span class='indicator'>" + i.indicatorSecondLevel + "</span>") }), "right" == i.align && e(d).addClass("primary-menu-right"), i.indentChildren && e(d).addClass("primary-menu-indented"), i.responsive && (e(o).addClass("primary-menu-responsive"), t = e(o).children(".showhide")), i.scrollable && i.responsive && e(d).css("max-height", i.scrollableMaxHeight).addClass("scrollable").append("<li class='scrollable-fix'></li>"), e(window).resize(function () { m() }), e(document).ready(function () { (function n() { var i = e(d).children("li").find(".dropdown"); if (e(window).innerWidth() > 1023) for (var t = e("body").outerWidth(!0), o = 0; o < i.length; o++) { var s = e(i[o]).css("display", "block").offset().left; e(i[o]).outerWidth() + s > t ? e(i[o]).addClass("dropdown-left") : ((t == e(i[o]).outerWidth() || t - e(i[o]).outerWidth() < 20) && e(i[o]).addClass("dropdown-left"), s + e(i[o]).outerWidth() < t && e(i[o]).addClass("dropdown-right")), e(i[o]).css("display", "none") } })(), m() }) } }(jQuery), (k = "function" == typeof define && define.amd ? define : function (e, n) { "undefined" != typeof module && module.exports ? module.exports = n(require("jquery")) : n(jQuery) })(["jquery"], function (e) { var n = e.scrollTo = function (n, i, t) { return e(window).scrollTo(n, i, t) }; function i(n) { return e.isFunction(n) || "object" == typeof n ? n : { top: n, left: n } } return n.defaults = { axis: "xy", duration: parseFloat(e.fn.jquery) >= 1.3 ? 0 : 1, limit: !0 }, n.window = function (n) { return e(window)._scrollable() }, e.fn._scrollable = function () { return this.map(function () { if (!(!this.nodeName || -1 != e.inArray(this.nodeName.toLowerCase(), ["iframe", "#document", "html", "body"]))) return this; var n = (this.contentWindow || this).document || this.ownerDocument || this; return /webkit/i.test(navigator.userAgent) || "BackCompat" == n.compatMode ? n.body : n.documentElement }) }, e.fn.scrollTo = function (t, o, d) { return "object" == typeof o && (d = o, o = 0), "function" == typeof d && (d = { onAfter: d }), "max" == t && (t = 9e9), d = e.extend({}, n.defaults, d), o = o || d.duration, d.queue = d.queue && d.axis.length > 1, d.queue && (o /= 2), d.offset = i(d.offset), d.over = i(d.over), this._scrollable().each(function () { if (null != t) { var s, a = this, r = e(a), l = t, c = {}, u = r.is("html,body"); switch (typeof l) { case "number": case "string": if (/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(l)) { l = i(l); break } if (!(l = u ? e(l) : e(l, this)).length) return; case "object": (l.is || l.style) && (s = (l = e(l)).offset()) }var h = e.isFunction(d.offset) && d.offset(a, l) || d.offset; e.each(d.axis.split(""), function (e, i) { var t = "x" == i ? "Left" : "Top", o = t.toLowerCase(), m = "scroll" + t, p = a[m], $ = n.max(a, i); if (s) c[m] = s[o] + (u ? 0 : p - r.offset()[o]), d.margin && (c[m] -= parseInt(l.css("margin" + t)) || 0, c[m] -= parseInt(l.css("border" + t + "Width")) || 0), c[m] += h[o] || 0, d.over[o] && (c[m] += l["x" == i ? "width" : "height"]() * d.over[o]); else { var g = l[o]; c[m] = g.slice && "%" == g.slice(-1) ? parseFloat(g) / 100 * $ : g } d.limit && /^\d+$/.test(c[m]) && (c[m] = c[m] <= 0 ? 0 : Math.min(c[m], $)), !e && d.queue && (p != c[m] && f(d.onAfterFirst), delete c[m]) }), f(d.onAfter) } function f(e) { r.animate(c, o, d.easing, e && function () { e.call(this, l, d) }) } }).end() }, n.max = function (n, i) { var t = "x" == i ? "Width" : "Height", o = "scroll" + t; if (!e(n).is("html,body")) return n[o] - e(n)[t.toLowerCase()](); var d = "client" + t, s = n.ownerDocument.documentElement, a = n.ownerDocument.body; return Math.max(s[o], a[o]) - Math.min(s[d], a[d]) }, n });